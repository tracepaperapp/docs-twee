<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://tracepaper.draftsman.io/docs-twee/05_Technical_Concepts/04_keychain/">
    <link rel="shortcut icon" href="https://tracepaper.draftsman.io/docs-twee/img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Understanding Keys and the Keychain Concept - Tracepaper</title>
    <link href="https://tracepaper.draftsman.io/docs-twee/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="https://tracepaper.draftsman.io/docs-twee/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="https://tracepaper.draftsman.io/docs-twee/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="https://tracepaper.draftsman.io/docs-twee/css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="https://tracepaper.draftsman.io/docs-twee/js/jquery-3.2.1.min.js"></script>
    <script src="https://tracepaper.draftsman.io/docs-twee/js/bootstrap-3.3.7.min.js"></script>
    <script src="https://tracepaper.draftsman.io/docs-twee/js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = 'https://tracepaper.draftsman.io/docs-twee';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Understanding Keys and the Keychain Concept", url: "#_top", children: [
              {title: "Business Key", url: "#business-key" },
              {title: "Technical Key", url: "#technical-key" },
              {title: "Keychain", url: "#keychain" },
              {title: "The Need for a Keychain", url: "#the-need-for-a-keychain" },
          ]},
        ];

    </script>
    <script src="https://tracepaper.draftsman.io/docs-twee/js/base.js"></script> 
  <script async defer data-domain="tracepaper.draftsman.io/docs-twee" src="https://analytics.bohanssen.com/js/plausible.js"></script>

</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../05_workflow_and_ownership/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../05_workflow_and_ownership/" class="btn btn-xs btn-link">
        Workflow and Ownership
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../03_asynchronisity/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../03_asynchronisity/" class="btn btn-xs btn-link">
        Asynchronous Command Handling
      </a>
    </div>
    
  </div>

    

    <h1 id="understanding-keys-and-the-keychain-concept">Understanding Keys and the Keychain Concept<a class="headerlink" href="#understanding-keys-and-the-keychain-concept" title="Permanent link">#</a></h1>
<p>In Draftsman-generated applications, the key concepts are crucial for efficient data management and access. 
The important thing to know, is that during modelling you only have to think about the meanigfull business-keys. 
We automate the management of the technical keys for you in our architecture. Here's a
detailed explanation of the concepts behind key management:</p>
<h2 id="business-key">Business Key<a class="headerlink" href="#business-key" title="Permanent link">#</a></h2>
<p>The business key is a meaningful identifier used in the view-store of the application. This key has semantic
significance, allowing clients to request data based on recognizable identities. For instance, in a system tracking
projects, the business key might encode project identifiers and related hierarchies, making it intuitive for users to
query specific projects. This key helps structure the data in a way that aligns with real-world relationships, ensuring
efficient querying and filtering in the read model.</p>
<h2 id="technical-key">Technical Key<a class="headerlink" href="#technical-key" title="Permanent link">#</a></h2>
<p>The technical key, unlike the business key, is an internal identifier used primarily in the write model and event
stores. It is typically a UUID (Universally Unique Identifier), which provides a unique, immutable reference for
entities regardless of their semantic meaning. This key is essential for ensuring the integrity and consistency of the
event log, as it remains unchanged even when the business context (and thus the business key) evolves. The technical key
supports robust state determination by replaying events, essential for behavior-driven data models.</p>
<h2 id="keychain">Keychain<a class="headerlink" href="#keychain" title="Permanent link">#</a></h2>
<p>The keychain is a mechanism introduced to map business keys to technical keys seamlessly. It abstracts the complexity of
translating user-friendly, meaningful identifiers into system-specific, immutable ones. This translation is critical
because while business keys might change (e.g., due to renaming or restructuring), the underlying technical keys must
remain consistent to maintain data integrity. The keychain ensures that users can interact with the system using
business keys while the system internally manages and references the stable technical keys.</p>
<h2 id="the-need-for-a-keychain">The Need for a Keychain<a class="headerlink" href="#the-need-for-a-keychain" title="Permanent link">#</a></h2>
<p>A keychain is necessary for several reasons:</p>
<ol>
<li><strong>Data Integrity and Consistency</strong>: By separating business and technical keys, the system maintains consistent
   references in the event log, even when business keys change.</li>
<li><strong>User-Friendly Interactions</strong>: Users can work with meaningful identifiers (business keys) without worrying about
   internal key management complexities.</li>
<li><strong>Flexibility and Evolution</strong>: As business requirements change, entities can be renamed or restructured without
   affecting the underlying system's stability.</li>
<li><strong>Efficient Data Access and Management</strong>: The keychain enables efficient querying by leveraging meaningful keys for
   data access while ensuring the robustness of technical keys for internal operations.</li>
</ol>
<p>In summary, the keychain concept in Draftsman applications bridges the gap between user-friendly, meaningful identifiers
and the system's need for consistent, immutable references, ensuring both usability and reliability. For more details,
refer to the original blog post on <a href="https://papers.draftsman.io/why-we-need-a-keychain/">Draftsman.io</a>.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../05_workflow_and_ownership/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../05_workflow_and_ownership/" class="btn btn-xs btn-link">
        Workflow and Ownership
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../03_asynchronisity/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../03_asynchronisity/" class="btn btn-xs btn-link">
        Asynchronous Command Handling
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>